\hypertarget{group__x_semaphore_create_binary}{}\section{x\+Semaphore\+Create\+Binary}
\label{group__x_semaphore_create_binary}\index{x\+Semaphore\+Create\+Binary@{x\+Semaphore\+Create\+Binary}}
semphr. h 
\begin{DoxyPre}
SemaphoreHandle\_t \hyperlink{vendor_2ceedling_2plugins_2freertos_2src_2freertos_2include_2semphr_8h_acba963695e4f159d9bfa2394cae5badc}{xSemaphoreCreateBinary( void )};
\end{DoxyPre}


Creates a new binary semaphore instance, and returns a handle by which the new semaphore can be referenced.

In many usage scenarios it is faster and more memory efficient to use a direct to task notification in place of a binary semaphore! \href{https://www.FreeRTOS.org/RTOS-task-notifications.html}{\tt https\+://www.\+Free\+R\+T\+O\+S.\+org/\+R\+T\+O\+S-\/task-\/notifications.\+html}

Internally, within the Free\+R\+T\+OS implementation, binary semaphores use a block of memory, in which the semaphore structure is stored. If a binary semaphore is created using \hyperlink{vendor_2ceedling_2plugins_2freertos_2src_2freertos_2include_2semphr_8h_acba963695e4f159d9bfa2394cae5badc}{x\+Semaphore\+Create\+Binary()} then the required memory is automatically dynamically allocated inside the \hyperlink{vendor_2ceedling_2plugins_2freertos_2src_2freertos_2include_2semphr_8h_acba963695e4f159d9bfa2394cae5badc}{x\+Semaphore\+Create\+Binary()} function. (see \href{https://www.FreeRTOS.org/a00111.html}{\tt https\+://www.\+Free\+R\+T\+O\+S.\+org/a00111.\+html}). If a binary semaphore is created using x\+Semaphore\+Create\+Binary\+Static() then the application writer must provide the memory. x\+Semaphore\+Create\+Binary\+Static() therefore allows a binary semaphore to be created without using any dynamic memory allocation.

The old \hyperlink{vendor_2ceedling_2plugins_2freertos_2src_2freertos_2include_2semphr_8h_ae10bffadd26fbd5bcce76bf33a83ef30}{v\+Semaphore\+Create\+Binary()} macro is now deprecated in favour of this \hyperlink{vendor_2ceedling_2plugins_2freertos_2src_2freertos_2include_2semphr_8h_acba963695e4f159d9bfa2394cae5badc}{x\+Semaphore\+Create\+Binary()} function. Note that binary semaphores created using the \hyperlink{vendor_2ceedling_2plugins_2freertos_2src_2freertos_2include_2semphr_8h_ae10bffadd26fbd5bcce76bf33a83ef30}{v\+Semaphore\+Create\+Binary()} macro are created in a state such that the first call to \textquotesingle{}take\textquotesingle{} the semaphore would pass, whereas binary semaphores created using \hyperlink{vendor_2ceedling_2plugins_2freertos_2src_2freertos_2include_2semphr_8h_acba963695e4f159d9bfa2394cae5badc}{x\+Semaphore\+Create\+Binary()} are created in a state such that the the semaphore must first be \textquotesingle{}given\textquotesingle{} before it can be \textquotesingle{}taken\textquotesingle{}.

This type of semaphore can be used for pure synchronisation between tasks or between an interrupt and a task. The semaphore need not be given back once obtained, so one task/interrupt can continuously \textquotesingle{}give\textquotesingle{} the semaphore while another continuously \textquotesingle{}takes\textquotesingle{} the semaphore. For this reason this type of semaphore does not use a priority inheritance mechanism. For an alternative that does use priority inheritance see \hyperlink{vendor_2ceedling_2plugins_2freertos_2src_2freertos_2include_2semphr_8h_aa6a00aa9b91a9e5b3ebe4ae1c3f115c6}{x\+Semaphore\+Create\+Mutex()}.

\begin{DoxyReturn}{Returns}
Handle to the created semaphore, or N\+U\+LL if the memory required to hold the semaphore\textquotesingle{}s data structures could not be allocated.
\end{DoxyReturn}
Example usage\+: 
\begin{DoxyPre}
SemaphoreHandle\_t xSemaphore = NULL;\end{DoxyPre}



\begin{DoxyPre}void vATask( void * pvParameters )
\{
 // Semaphore cannot be used before a call to \hyperlink{vendor_2ceedling_2plugins_2freertos_2src_2freertos_2include_2semphr_8h_acba963695e4f159d9bfa2394cae5badc}{xSemaphoreCreateBinary()}.
 // This is a macro so pass the variable in directly.
 xSemaphore = \hyperlink{vendor_2ceedling_2plugins_2freertos_2src_2freertos_2include_2semphr_8h_acba963695e4f159d9bfa2394cae5badc}{xSemaphoreCreateBinary()};\end{DoxyPre}



\begin{DoxyPre} if( xSemaphore != NULL )
 \{
     // The semaphore was created successfully.
     // The semaphore can now be used.
 \}
\}
\end{DoxyPre}
 