<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TP3: ceedling-gcov</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TP3
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ceedling-gcov </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Plugin Overview</h1>
<p>Plugin for integrating GNU GCov code coverage tool into Ceedling projects. Currently only designed for the gcov command (like LCOV for example). In the future we could configure this to work with other code coverage tools.</p>
<p>This plugin currently uses <a href="https://www.gcovr.com/">gcovr</a> and / or <a href="https://danielpalme.github.io/ReportGenerator/">ReportGenerator</a> as utilities to generate HTML, XML, JSON, or Text reports. The normal gcov plugin <em>must</em> be run first for these reports to generate.</p>
<h2>Installation</h2>
<p>gcovr can be installed via pip like so:</p>
<div class="fragment"><div class="line">pip install gcovr</div></div><!-- fragment --><p>ReportGenerator can be installed via .NET Core like so:</p>
<div class="fragment"><div class="line">dotnet tool install -g dotnet-reportgenerator-globaltool</div></div><!-- fragment --><p>It is not required to install both <code>gcovr</code> and <code>ReportGenerator</code>. Either utility may be installed to create reports.</p>
<h2>Configuration</h2>
<p>The gcov plugin supports configuration options via your <code>project.yml</code> provided by Ceedling.</p>
<h3>Utilities</h3>
<p>Gcovr and / or ReportGenerator may be enabled to create coverage reports.</p>
<div class="fragment"><div class="line">:gcov:</div><div class="line">  :utilities:</div><div class="line">    - gcovr           # Use gcovr to create the specified reports (default).</div><div class="line">    - ReportGenerator # Use ReportGenerator to create the specified reports.</div></div><!-- fragment --><h3>Reports</h3>
<p>Various reports are available and may be enabled with the following configuration item. See the specific report sections in this README for additional options and information. All generated reports will be found in <code>build/artifacts/gcov</code>.</p>
<div class="fragment"><div class="line">:gcov:</div><div class="line">  # Specify one or more reports to generate.</div><div class="line">  # Defaults to HtmlBasic.</div><div class="line">  :reports:</div><div class="line">    # Make an HTML summary report.</div><div class="line">    # Supported utilities: gcovr, ReportGenerator</div><div class="line">    - HtmlBasic</div><div class="line"></div><div class="line">    # Make an HTML report with line by line coverage of each source file.</div><div class="line">    # Supported utilities: gcovr, ReportGenerator</div><div class="line">    - HtmlDetailed</div><div class="line"></div><div class="line">    # Make a Text report, which may be output to the console with gcovr or a file in both gcovr and ReportGenerator.</div><div class="line">    # Supported utilities: gcovr, ReportGenerator</div><div class="line">    - Text</div><div class="line"></div><div class="line">    # Make a Cobertura XML report.</div><div class="line">    # Supported utilities: gcovr, ReportGenerator</div><div class="line">    - Cobertura</div><div class="line"></div><div class="line">    # Make a SonarQube XML report.</div><div class="line">    # Supported utilities: gcovr, ReportGenerator</div><div class="line">    - SonarQube</div><div class="line"></div><div class="line">    # Make a JSON report.</div><div class="line">    # Supported utilities: gcovr</div><div class="line">    - JSON</div><div class="line"></div><div class="line">    # Make a detailed HTML report with CSS and JavaScript included in every HTML page. Useful for build servers.</div><div class="line">    # Supported utilities: ReportGenerator</div><div class="line">    - HtmlInline</div><div class="line"></div><div class="line">    # Make a detailed HTML report with a light theme and CSS and JavaScript included in every HTML page for Azure DevOps.</div><div class="line">    # Supported utilities: ReportGenerator</div><div class="line">    - HtmlInlineAzure</div><div class="line"></div><div class="line">    # Make a detailed HTML report with a dark theme and CSS and JavaScript included in every HTML page for Azure DevOps.</div><div class="line">    # Supported utilities: ReportGenerator</div><div class="line">    - HtmlInlineAzureDark</div><div class="line"></div><div class="line">    # Make a single HTML file containing a chart with historic coverage information.</div><div class="line">    # Supported utilities: ReportGenerator</div><div class="line">    - HtmlChart</div><div class="line"></div><div class="line">    # Make a detailed HTML report in a single file.</div><div class="line">    # Supported utilities: ReportGenerator</div><div class="line">    - MHtml</div><div class="line"></div><div class="line">    # Make SVG and PNG files that show line and / or branch coverage information.</div><div class="line">    # Supported utilities: ReportGenerator</div><div class="line">    - Badges</div><div class="line"></div><div class="line">    # Make a single CSV file containing coverage information per file.</div><div class="line">    # Supported utilities: ReportGenerator</div><div class="line">    - CsvSummary</div><div class="line"></div><div class="line">    # Make a single TEX file containing a summary for all files and detailed reports for each files.</div><div class="line">    # Supported utilities: ReportGenerator</div><div class="line">    - Latex</div><div class="line"></div><div class="line">    # Make a single TEX file containing a summary for all files.</div><div class="line">    # Supported utilities: ReportGenerator</div><div class="line">    - LatexSummary</div><div class="line"></div><div class="line">    # Make a single PNG file containing a chart with historic coverage information.</div><div class="line">    # Supported utilities: ReportGenerator</div><div class="line">    - PngChart</div><div class="line"></div><div class="line">    # Command line output interpreted by TeamCity.</div><div class="line">    # Supported utilities: ReportGenerator</div><div class="line">    - TeamCitySummary</div><div class="line"></div><div class="line">    # Make a text file in lcov format.</div><div class="line">    # Supported utilities: ReportGenerator</div><div class="line">    - lcov</div><div class="line"></div><div class="line">    # Make a XML file containing a summary for all classes and detailed reports for each class.</div><div class="line">    # Supported utilities: ReportGenerator</div><div class="line">    - Xml</div><div class="line"></div><div class="line">    # Make a single XML file containing a summary for all files.</div><div class="line">    # Supported utilities: ReportGenerator</div><div class="line">    - XmlSummary</div></div><!-- fragment --><h3>Gcovr HTML Reports</h3>
<p>Generation of Gcovr HTML reports may be modified with the following configuration items.</p>
<div class="fragment"><div class="line">:gcov:</div><div class="line">  # Set to &#39;true&#39; to enable HTML reports or set to &#39;false&#39; to disable.</div><div class="line">  # Defaults to enabled. (gcovr --html)</div><div class="line">  # Deprecated - See the :reports: configuration option.</div><div class="line">  :html_report: [true|false]</div><div class="line"></div><div class="line">  # Gcovr supports generating two types of HTML reports. Use &#39;basic&#39; to create</div><div class="line">  # an HTML report with only the overall file information. Use &#39;detailed&#39; to create</div><div class="line">  # an HTML report with line by line coverage of each source file.</div><div class="line">  # Defaults to &#39;basic&#39;. Set to &#39;detailed&#39; for (gcovr --html-details).</div><div class="line">  # Deprecated - See the :reports: configuration option.</div><div class="line">  :html_report_type: [basic|detailed]</div><div class="line"></div><div class="line"></div><div class="line">  :gcovr:</div><div class="line">    # HTML report filename.</div><div class="line">    :html_artifact_filename: &lt;output&gt;</div><div class="line"></div><div class="line">    # Use &#39;title&#39; as title for the HTML report.</div><div class="line">    # Default is &#39;Head&#39;. (gcovr --html-title)</div><div class="line">    :html_title: &lt;title&gt;</div><div class="line"></div><div class="line">    # If the coverage is below MEDIUM, the value is marked as low coverage in the HTML report.</div><div class="line">    # MEDIUM has to be lower than or equal to value of html_high_threshold.</div><div class="line">    # If MEDIUM is equal to value of html_high_threshold the report has only high and low coverage.</div><div class="line">    # Default is 75.0. (gcovr --html-medium-threshold)</div><div class="line">    :html_medium_threshold: 75</div><div class="line"></div><div class="line">    # If the coverage is below HIGH, the value is marked as medium coverage in the HTML report.</div><div class="line">    # HIGH has to be greater than or equal to value of html_medium_threshold.</div><div class="line">    # If HIGH is equal to value of html_medium_threshold the report has only high and low coverage.</div><div class="line">    # Default is 90.0. (gcovr -html-high-threshold)</div><div class="line">    :html_high_threshold: 90</div><div class="line"></div><div class="line">    # Set to &#39;true&#39; to use absolute paths to link the &#39;detailed&#39; reports.</div><div class="line">    # Defaults to relative links. (gcovr --html-absolute-paths)</div><div class="line">    :html_absolute_paths: [true|false]</div><div class="line"></div><div class="line">    # Override the declared HTML report encoding. Defaults to UTF-8. (gcovr --html-encoding)</div><div class="line">    :html_encoding: &lt;html_encoding&gt;</div></div><!-- fragment --><h3>Cobertura XML Reports</h3>
<p>Generation of Cobertura XML reports may be modified with the following configuration items.</p>
<div class="fragment"><div class="line">:gcov:</div><div class="line">  # Set to &#39;true&#39; to enable Cobertura XML reports or set to &#39;false&#39; to disable.</div><div class="line">  # Defaults to disabled. (gcovr --xml)</div><div class="line">  # Deprecated - See the :reports: configuration option.</div><div class="line">  :xml_report: [true|false]</div><div class="line"></div><div class="line"></div><div class="line">  :gcovr:</div><div class="line">    # Set to &#39;true&#39; to pretty-print the Cobertura XML report, otherwise set to &#39;false&#39;.</div><div class="line">    # Defaults to disabled. (gcovr --xml-pretty)</div><div class="line">    :xml_pretty: [true|false]</div><div class="line">    :cobertura_pretty: [true|false]</div><div class="line"></div><div class="line">    # Cobertura XML report filename.</div><div class="line">    :xml_artifact_filename: &lt;output&gt;</div><div class="line">    :cobertura_artifact_filename: &lt;output&gt;</div></div><!-- fragment --><h3>SonarQube XML Reports</h3>
<p>Generation of SonarQube XML reports may be modified with the following configuration items.</p>
<div class="fragment"><div class="line">:gcov:</div><div class="line">  :gcovr:</div><div class="line">    # SonarQube XML report filename.</div><div class="line">    :sonarqube_artifact_filename: &lt;output&gt;</div></div><!-- fragment --><h3>JSON Reports</h3>
<p>Generation of JSON reports may be modified with the following configuration items.</p>
<div class="fragment"><div class="line">:gcov:</div><div class="line">  :gcovr:</div><div class="line">    # Set to &#39;true&#39; to pretty-print the JSON report, otherwise set &#39;false&#39;.</div><div class="line">    # Defaults to disabled. (gcovr --json-pretty)</div><div class="line">    :json_pretty: [true|false]</div><div class="line"></div><div class="line">    # JSON report filename.</div><div class="line">    :json_artifact_filename: &lt;output&gt;</div></div><!-- fragment --><h3>Text Reports</h3>
<p>Generation of text reports may be modified with the following configuration items. Text reports may be printed to the console or output to a file.</p>
<div class="fragment"><div class="line">:gcov:</div><div class="line">  :gcovr:</div><div class="line">    # Text report filename.</div><div class="line">    # The text report is printed to the console when no filename is provided.</div><div class="line">    :text_artifact_filename: &lt;output&gt;</div></div><!-- fragment --><h3>Common Report Options</h3>
<p>There are a number of options to control which files are considered part of the coverage report. Most often, we only care about coverage on our source code, and not on tests or automatically generated mocks, runners, etc. However, there are times where this isn't true... or there are times where we've moved ceedling's directory structure so that the project file isn't at the root of the project anymore. In these cases, you may need to tweak <code>report_include</code>, <code>report_exclude</code>, and <code>exclude_directories</code>.</p>
<p>One important note about <code>report_root</code>: gcovr will take only a single root folder, unlike Ceedling's ability to take as many as you like. So you will need to choose a folder which is a superset of ALL the folders you want, and then use the include or exclude options to set up patterns of files to pay attention to or ignore. It's not ideal, but it works.</p>
<p>Finally, there are a number of settings which can be specified to adjust the default behaviors of gcovr:</p>
<div class="fragment"><div class="line">:gcov:</div><div class="line">  :gcovr:</div><div class="line">    # The root directory of your source files. Defaults to &quot;.&quot;, the current directory.</div><div class="line">    # File names are reported relative to this root. The report_root is the default report_include.</div><div class="line">    :report_root: &quot;.&quot;</div><div class="line"></div><div class="line">    # Load the specified configuration file.</div><div class="line">    # Defaults to gcovr.cfg in the report_root directory. (gcovr --config)</div><div class="line">    :config_file: &lt;config_file&gt;</div><div class="line"></div><div class="line">    # Exit with a status of 2 if the total line coverage is less than MIN.</div><div class="line">    # Can be ORed with exit status of &#39;fail_under_branch&#39; option. (gcovr --fail-under-line)</div><div class="line">    :fail_under_line: 30</div><div class="line"></div><div class="line">    # Exit with a status of 4 if the total branch coverage is less than MIN.</div><div class="line">    # Can be ORed with exit status of &#39;fail_under_line&#39; option. (gcovr --fail-under-branch)</div><div class="line">    :fail_under_branch: 30</div><div class="line"></div><div class="line">    # Select the source file encoding.</div><div class="line">    # Defaults to the system default encoding (UTF-8). (gcovr --source-encoding)</div><div class="line">    :source_encoding: &lt;source_encoding&gt;</div><div class="line"></div><div class="line">    # Report the branch coverage instead of the line coverage. For text report only. (gcovr --branches).</div><div class="line">    :branches: [true|false]</div><div class="line"></div><div class="line">    # Sort entries by increasing number of uncovered lines.</div><div class="line">    # For text and HTML report. (gcovr --sort-uncovered)</div><div class="line">    :sort_uncovered: [true|false]</div><div class="line"></div><div class="line">    # Sort entries by increasing percentage of uncovered lines.</div><div class="line">    # For text and HTML report. (gcovr --sort-percentage)</div><div class="line">    :sort_percentage: [true|false]</div><div class="line"></div><div class="line">    # Print a small report to stdout with line &amp; branch percentage coverage.</div><div class="line">    # This is in addition to other reports. (gcovr --print-summary).</div><div class="line">    :print_summary: [true|false]</div><div class="line"></div><div class="line">    # Keep only source files that match this filter. (gcovr --filter).</div><div class="line">    :report_include: &quot;^src&quot;</div><div class="line"></div><div class="line">    # Exclude source files that match this filter. (gcovr --exclude).</div><div class="line">    :report_exclude: &quot;^vendor.*|^build.*|^test.*|^lib.*&quot;</div><div class="line"></div><div class="line">    # Keep only gcov data files that match this filter. (gcovr --gcov-filter).</div><div class="line">    :gcov_filter: &lt;gcov_filter&gt;</div><div class="line"></div><div class="line">    # Exclude gcov data files that match this filter. (gcovr --gcov-exclude).</div><div class="line">    :gcov_exclude: &lt;gcov_exclude&gt;</div><div class="line"></div><div class="line">    # Exclude directories that match this regex while searching</div><div class="line">    # raw coverage files. (gcovr --exclude-directories).</div><div class="line">    :exclude_directories: &lt;exclude_dirs&gt;</div><div class="line"></div><div class="line">    # Use a particular gcov executable. (gcovr --gcov-executable).</div><div class="line">    :gcov_executable: &lt;gcov_cmd&gt;</div><div class="line"></div><div class="line">    # Exclude branch coverage from lines without useful</div><div class="line">    # source code. (gcovr --exclude-unreachable-branches).</div><div class="line">    :exclude_unreachable_branches: [true|false]</div><div class="line"></div><div class="line">    # For branch coverage, exclude branches that the compiler</div><div class="line">    # generates for exception handling. (gcovr --exclude-throw-branches).</div><div class="line">    :exclude_throw_branches: [true|false]</div><div class="line"></div><div class="line">    # Use existing gcov files for analysis. Default: False. (gcovr --use-gcov-files)</div><div class="line">    :use_gcov_files: [true|false]</div><div class="line"></div><div class="line">    # Skip lines with parse errors in GCOV files instead of</div><div class="line">    # exiting with an error. (gcovr --gcov-ignore-parse-errors).</div><div class="line">    :gcov_ignore_parse_errors: [true|false]</div><div class="line"></div><div class="line">    # Override normal working directory detection. (gcovr --object-directory)</div><div class="line">    :object_directory: &lt;objdir&gt;</div><div class="line"></div><div class="line">    # Keep gcov files after processing. (gcovr --keep).</div><div class="line">    :keep: [true|false]</div><div class="line"></div><div class="line">    # Delete gcda files after processing. (gcovr --delete).</div><div class="line">    :delete: [true|false]</div><div class="line"></div><div class="line">    # Set the number of threads to use in parallel. (gcovr -j).</div><div class="line">    :num_parallel_threads: &lt;num_threads&gt;</div><div class="line"></div><div class="line">  # When scanning the code coverage, if any files are found that do not have</div><div class="line">  # associated coverage data, the command will abort with an error message.</div><div class="line">  :abort_on_uncovered: true</div><div class="line"></div><div class="line">  # When using the ``abort_on_uncovered`` option, the files in this list will not</div><div class="line">  # trigger a failure.</div><div class="line">  # Ceedling globs described in the Ceedling packet ``Path`` section can be used</div><div class="line">  # when directories are placed on the list. Globs are limited to matching directories</div><div class="line">  # and not files.</div><div class="line">  :uncovered_ignore_list: []</div></div><!-- fragment --><h3>ReportGenerator Configuration</h3>
<p>The ReportGenerator utility may be configured with the following configuration items. All generated reports may be found in <code>build/artifacts/gcov/ReportGenerator</code>.</p>
<div class="fragment"><div class="line">:gcov:</div><div class="line">  :report_generator:</div><div class="line">    # Optional directory for storing persistent coverage information.</div><div class="line">    # Can be used in future reports to show coverage evolution.</div><div class="line">    :history_directory: &lt;history_directory&gt;</div><div class="line"></div><div class="line">    # Optional plugin files for custom reports or custom history storage (separated by semicolon).</div><div class="line">    :plugins: CustomReports.dll</div><div class="line"></div><div class="line">    # Optional list of assemblies that should be included or excluded in the report (separated by semicolon)..</div><div class="line">    # Exclusion filters take precedence over inclusion filters.</div><div class="line">    # Wildcards are allowed, but not regular expressions.</div><div class="line">    :assembly_filters: &quot;+Included;-Excluded&quot;</div><div class="line"></div><div class="line">    # Optional list of classes that should be included or excluded in the report (separated by semicolon)..</div><div class="line">    # Exclusion filters take precedence over inclusion filters.</div><div class="line">    # Wildcards are allowed, but not regular expressions.</div><div class="line">    :class_filters: &quot;+Included;-Excluded&quot;</div><div class="line"></div><div class="line">    # Optional list of files that should be included or excluded in the report (separated by semicolon)..</div><div class="line">    # Exclusion filters take precedence over inclusion filters.</div><div class="line">    # Wildcards are allowed, but not regular expressions.</div><div class="line">    :file_filters: &quot;-./vendor/*;-./build/*;-./test/*;-./lib/*;+./src/*&quot;</div><div class="line"></div><div class="line">    # The verbosity level of the log messages.</div><div class="line">    # Values: Verbose, Info, Warning, Error, Off</div><div class="line">    :verbosity: Warning</div><div class="line"></div><div class="line">    # Optional tag or build version.</div><div class="line">    :tag: &lt;tag&gt;</div><div class="line"></div><div class="line">    # Optional list of one or more regular expressions to exclude gcov notes files that match these filters.</div><div class="line">    :gcov_exclude:</div><div class="line">      - &lt;exclude_regex1&gt;</div><div class="line">      - &lt;exclude_regex2&gt;</div><div class="line"></div><div class="line">    # Optionally use a particular gcov executable. Defaults to gcov.</div><div class="line">    :gcov_executable: &lt;gcov_cmd&gt;</div><div class="line"></div><div class="line">    # Optionally set the number of threads to use in parallel. Defaults to 1.</div><div class="line">    :num_parallel_threads: &lt;num_threads&gt;</div><div class="line"></div><div class="line">    # Optional list of one or more command line arguments to pass to Report Generator.</div><div class="line">    # Useful for configuring Risk Hotspots and Other Settings.</div><div class="line">    # https://github.com/danielpalme/ReportGenerator/wiki/Settings</div><div class="line">    :custom_args:</div><div class="line">      - &lt;custom_arg1&gt;</div><div class="line">      - &lt;custom_arg2&gt;</div></div><!-- fragment --><h2>Example Usage</h2>
<div class="fragment"><div class="line">ceedling gcov:all utils:gcov</div></div><!-- fragment --><h2>To-Do list</h2>
<ul>
<li>Generate overall report (combined statistics from all files with coverage)</li>
</ul>
<h2>Citations</h2>
<p>Most of the comment text which describes the options was taken from the <a href="https://www.gcovr.com/en/stable/guide.html">Gcovr User Guide</a> and the <a href="https://github.com/danielpalme/ReportGenerator/wiki">ReportGenerator Wiki</a>. The text is repeated here to provide the most accurate option functionality. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
